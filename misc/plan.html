<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" title="Default"
      type="text/css" href="todo.css" media="all"/>
    <meta http-equiv="Content-Type"
      content="text/html; charset=utf-8"/>
<title>TODO for coming releases</title>
</head>
<body>
  <h1> Nettle release plans </h1>
  <p> This is an attempt at defining a development target for
    Nettle-3.1, inspired by similar pages for recent GMP releases.
    [Last updated 2015-03-31]</p>
  <p class='should'>
    This really ought to be done before release
  </p>
  <p class='wish'>
    Try to get this done before release
  </p>
  <p class='done'>
    Done!
  </p>
  <p class='postponed'>
    Leave for some later release!
  </p>

  <h1> Plans for nettle-3.1 </h1>

  <h2> Interface changes </h2>
  <p class='done'>
    Review public functions in ecc.h, move some to ecc-internal.h, to
    enable sane support for other types of curves.
  </p>
  
  <h2> New features </h2>
  <p class='done'>
    Add support for curve25519.<span class='should'> What about the
    "x25519" name?</span>
  </p>
  <p class='done'>
    Update chacha-poly1305 to
    the <a href='https://tools.ietf.org/html/draft-irtf-cfrg-chacha20-poly1305-08'>current
    draft</a>.
  </p>
  <p class='done'>
    Add support for Ed25519 signatures.
  </p>
  <p class='done'>
    Interface tweaks. EdDSA, Curve25519, base64.
  </p>
  <p class='wish'>
    Add larger "safe" curves, e.g., M-383, curve41417 and E-521.
  </p>
  <p class='wish'>
    Add functions for converting ECC points to and from ANSI x9.62.
  </p>
  <p class='wish'>
    Use side-channel silent GMP functions for RSA and DSA. May require
    additional interface changes, to use mpn functions.
  </p>
  <p class='done'>
    Make it possible to build nettle and hogweed using mini-gmp.
  </p>
  <p class='postpone'>
    Side-channel silent mem_equalp.
  </p>

  <h2> Optimizations </h2>
  <p class='done'>
    Support for using AES acceleration.
  </p>

  <p class='postponed'>
    Assembly optimizations for ARMv8 (64-bit).
  </p>
  <p class='wish'>
    Further optimizations of curve25519 and EdDSA, in particular,
    radix 51 modp operations,
    and <a href='http://www.hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html#addition-add-2008-hwcd-3'>more
    efficient</a> point addition.
  </p>
  
  <h2> Miscellaneous </h2>
  <p class='postpone'>
    Use more functions from GMP-6 and later, when available:
    mpn_sec_add_1, mpn_sec_tabselect, mpn_sec_invert, mpn_cnd_swap,
    ...
  </p>

  <h2> Documentation </h2>
  <p class='done'>
    Document curve25519.
  </p>
  <p class='done'>
    Document EdDSA.
  </p>
  
  <h2> Build system </h2>
  <p class='done'>
    Support for fat binaries on ARM and x86_64, selecting code at
    runtime depending on cpu capabilities.
  </p>
  <p class='done'>
    Fix the handling of optional C source files with make dist.
  </p>
  <p class='done'>
    Stop using the nonstandard <tt>.po</tt> extension.
  </p>
  <p class='done'>
    Reconsider assembly make rules, going back to an .asm.o: rule
    might work better with Solaris' make.
  </p>
  <p class='postponed'>
    Update AX_CREATE_STDINT_H to the latest version.
  </p>
  
  <h2> Testing </h2>
  <p> Since xenofarm isn't up and running, do some manual testing:
  </p>
  <ul>
    <li class='done'> x86_64-linux-gnu</li>
    <li class='done'> x86-linux-gnu</li>
    <li class='done'> x86_64-freebsd</li>
    <li class='done'> x86-w*ndows (using cross compiler and wine)</li>
    <li class='done'> x86_64-w*ndows (using cross compiler and wine)</li>
    <li class='should'> x86-darwin (needs help from Nettle users)</li>
    <li class='should'> x86_64-darwin (needs help from Nettle users)</li>
    <li class='done'> armv7-linux-gnu (pandaboard test platform)</li>
    <li class='wish'> armv7-android </li>
    <li class='done'> sparc32-solaris10</li>
    <li class='done'> sparc64-solaris10</li>
  </ul>

  <h1> Changes under consideration for later releases </h1>

  <p> These are some other changes under consideration. </p>

  <h2> Interface changes </h2>
  <p class='should'>
    For Merkle-Damgaard hash functions, separate the state and the
    buffering. E.g., when using them for HMAC keyed "inner" and
    "outer" states, we now get three buffers but we only need one.
  </p>
  <p class='should'>
    Reorganize private key operations. Need to support RSA with and
    without blinding, and DSA according to spec and some deterministic
    variant (like putty
    or <a href='http://tools.ietf.org/html/rfc6979'>RFC6979</a>), and
    possibly also smartcard versions where the private key is not
    available to the library. And without an explosion of the number
    of functions.
  </p>
</body>
</html>
